<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>会员注册</title>
    <include file="resource/view/common.php"/>
    <link rel="stylesheet" type="text/css" href="{{template_url()}}/entry/fonts/iconfont.css"/>
    <link rel="stylesheet" type="text/css" href="{{template_url()}}/entry/css/reg.css"/>
</head>
<body>
<h1>{{v("site.info.name")}}</h1>
<form action="" method="post">
    <input type="text" class="uname" name="username" placeholder="{{$placeholder}}"/>
    <input type="password" name="password" class="uname" placeholder="请输入不少于5位的密码"
           required="required"/>
    <input type="password" name="cpassword" class="uname" placeholder="请再次输入密码"
           required="required"/>
    <div class="input-group" style="margin-top: 20px;">
        <input type="text" class="form-control" placeholder="请输入验证码" name="code">
        <span class="input-group-btn">
        <button class="btn btn-default" type="button" id="sendValidCode">发送验证码</button>
      </span>
    </div>
    <button class="btn btns">注册<i class="iconfont icon-you-copy"></i></button>
</form>
<p class="remind">已有账号？ <a href="{{url('entry.login',[],'ucenter')}}">点此登录</a></p>
</body>
</html>
<script>
    require(['util'], function (util) {
        var option = {
            //按钮
            el: '#sendValidCode',
            //后台链接
            url: '{{site_url("tool.sendValidCode")}}',
            //验证码等待发送时间
            timeout: '{{$validTime}}',
            //表单，手机号或邮箱的INPUT表单
            input: '[name="username"]'
        }
        util.validCode(option);

        //发送表单
    })
    function post(event) {
        event.preventDefault();
        util.submit({
            successUrl: 'refresh'
        });
    }
</script>